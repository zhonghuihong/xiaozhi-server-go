# 测试文件

本目录包含了项目的各种测试程序。

## 测试文件列表

### 1. connectivity.go - 连通性检查测试
测试所有配置的provider（ASR、LLM、TTS、VLLLM）的连通性和功能性。

**运行方法:**
```bash
# 从项目根目录运行
go run test/connectivity.go
```

**功能:**
- 基础连通性检查：验证provider能够正确初始化
- 功能性检查：执行实际的API调用测试
- 详细的测试报告和性能统计

### 2. pool_recycling.go - 资源池回收测试
测试资源池的创建、获取、归还和回收机制。

**运行方法:**
```bash
# 从项目根目录运行
go run test/pool_recycling.go
```

**功能:**
- 资源获取和归还测试
- 池容量限制测试
- 资源复用测试
- 多余资源清理测试

## 使用说明

1. **从项目根目录运行**: 所有测试都需要从项目根目录运行，以确保能正确访问配置文件和依赖模块。

2. **配置文件**: 测试会自动加载项目的配置文件（.config.yaml），确保配置正确。

3. **依赖**: 测试需要项目的所有依赖模块正常工作，运行前请确保 `go mod tidy` 已执行。

## 示例

```bash
# 运行连通性测试
go run test/connectivity.go

# 运行资源池测试
go run test/pool_recycling.go
```

## 测试输出

测试程序会输出详细的执行过程和结果，包括：
- 测试进度和状态
- 成功/失败指示
- 性能统计（耗时、响应长度等）
- 错误信息（如果有）
